
<!-- Your monitor number = #$34T# -->


## â›… Warm Up for Day 3.

<br>

### ðŸ”§ Configure the following:
  - Switch (__CoreTAAS__ & __CoreBABA__)
  - Voice Gateway/Call Manager (__CUCM - Cisco Unified Call Manager__)
  - Router (__EDGE__)

<br>

| CIDR | SUBNET MASK     | RIVAN    | WILDCARD     |
| ---  | ---             | ---      | ---          |
| /18  |                 |          |              |
|      | 255.255.255.224 |          |              |
|      |                 | 2nd, 4i  |              |
|      |                 |          | 0.0.0.3      |

<br>

| BitLen |       |
| ---    | ---   |
| 42     |       |
| 1800   |       |
| 365    |       |
| 980    |       |
| 112    |       |

<br>

### Design a network for teleperformance.com with 720 users. Use the available IP address space 10.42.0.0 /16

> C:

<br> 

> S:

<br>

> I:  

<br>

| teleperformance.com     | IPv4  |
| ---                     | ---   |
| Network                 |       |
| First Valid             |       |
| Last Valid              |       |
| Last IP/Broadcast       |       |
| ---                     | ---   |
| NOT teleperformance.com |       |

<br>
<br>

---
&nbsp;

### Configure 32 offices for teleperformance.com. 
- Use the available IP address space 192.168.0.0 /16
- Determine the last valid IP of the 2nd office

> C:

<br> 

> A:

<br>

> I:  

<br>

Last valid IP of the 2nd office:

<br>
<br>

---
&nbsp;

## ðŸŽ¯ Review

### 1. What is the reason for the error?

~~~
Router(config)# interface GigabitEthernet 1/0/1
Router(config-if)# ip add 192.168.16.143 255.255.255.240
Bad Mask /28 for address 192.168.16.143
~~~

&nbsp;
---
&nbsp;

### 2. Devices fail to obtain IP addresses from a DHCP server. Determine the issue by going through the dhcp configurations shown below.

~~~
Router# show run | s dhcp
ip dhcp excluded-address 10.28.0.1 10.28.0.100
ip dhcp pool mainpool
 network 10.28.0.0 255.255.255.248
 default-router 10.28.0.1 
 domain-name main.com
 dns-server 10.28.1.10
~~~

&nbsp;
---
&nbsp;

### 3. Match the Host addresses on the left to their correct IP range on the right.

|     | Host                |         ---        |     | Range (1st Valid - Broadcast)     |
| --- | ---                 | ---                | --- | ---                               |
| 1   | 10.187.45.21 /14    |                    | A   | 192.168.100.193 - 192.168.100.223 |
| 2   | 10.180.201.90 /12   |                    | B   | 10.176.0.1 - 10.191.255.255       |
| 3   | 172.16.74.5 /20     |                    | C   | 172.16.64.1 - 172.16.79.255       |
| 4   | 172.16.81.1 /19     |                    | D   | 192.168.100.193 - 192.168.100.208 |
| 5   | 192.168.100.203 /27 |                    | E   | 10.184.0.1 - 10.187.255.255       |
| 6   | 192.168.100.195 /28 |                    | F   | 172.16.64.1 - 172.16.95.255       |

&nbsp;
---
&nbsp;

### 4. Design a network for Cognizant.com with 4720 potential users. Use the IP address space 10.42.0.0 /16

> C:

<br> 

> S:

<br>

> I:  

<br>

| Cognizant.com     | IPv4  |
| ---               | ---   |
| Network           |       |
| First Valid       |       |
| Last Valid        |       |
| Last IP/Broadcast |       |
| ---               | ---   |
| NOT Cognizant.com |       |


&nbsp;
---
&nbsp;

### 5. Which goal is achieved by the implementation of private IPv4 addressing on a network?
  - [ ] __A.__ provides an added level of protection against Internet exposure
  - [ ] __B.__ provides a reduction in size of the forwarding table on network routers
  - [ ] __C.__ allows communication across the Internet to other private networks
  - [ ] __D.__ allows servers and workstations to communicate across public network boundaries

&nbsp;
---
&nbsp;

### 6. Which two options are the best reasons to use an IPV4 private IP space? (Choose two.)
  - [ ] __A.__ to enable intra-enterprise communication
  - [ ] __B.__ to implement NAT
  - [ ] __C.__ to connect applications
  - [ ] __D.__ to conserve global address space
  - [ ] __E.__ to manage routing overhead

&nbsp;
---
&nbsp;

### 7. Which component of an Ethernet frame is used to notify a host that traffic is coming?
  - [ ] __A.__ Start of Frame Delimiter
  - [ ] __B.__ Type Field
  - [ ] __C.__ Preamble
  - [ ] __D.__ Data Field

&nbsp;
---
&nbsp;

### 8. Based on the diagram below, what command was entered on the device's Ethernet1/1 interface that registered the following entry to its routing table.
~~~
C        10.1.4.4/30 is directly connected, Ethernet1/1
L        10.1.4.6/32 is directly connected, Ethernet1/1
~~~
  - [ ] __A.__ `router(config-if)# ip address 10.1.4.4 255.255.255.252`
  - [ ] __B.__ `router(config-if)# ip address 10.1.4.4 255.255.255.255`
  - [ ] __C.__ `router(config-if)# ip address 10.1.4.6 255.255.255.252`
  - [ ] __D.__ `router(config-if)# ip address 10.1.4.6 255.255.255.255`

&nbsp;
---
&nbsp;

### 9. What is the destination MAC address of a broadcast frame?
  - [ ] __A.__ 00:00:0c:07:ac:01
  - [ ] __B.__ ff:ff:ff:ff:ff:ff
  - [ ] __C.__ 33:2e:08:00:00:0c
  - [ ] __D.__ 00:00:0c:43:2e:08
  - [ ] __E.__ 00:00:0c:ff:ff:ff

&nbsp;
---
&nbsp;

### 10. Based on the diagram, what is the subnet mask for VLAN 100?
~~~
Gateway of last resort is not set
      10.0.0.0/8 is variably subnetted, 6 subnets, 3 masks
C        10.1.4.4/30 is directly connected, Ethernet1/1
L        10.1.4.6/32 is directly connected, Ethernet1/1
C        10.2.1.0/24 is directly connected, Vlan10
L        10.2.1.1/32 is directly connected, Vlan10
C        10.2.2.0/24 is directly connected, Vlan20
L        10.2.2.1/32 is directly connected, Vlan20
      192.168.1.0/24 is variably subnetted, 2 subnets, 2 masks
C        192.168.1.128/27 is directly connected, Vlan100
L        192.168.1.129/32 is directly connected, Vlan100
      192.168.100.0/24 is variably subnetted, 2 subnets, 2 masks
C        192.168.100.192/29 is directly connected, Loopback1
L        192.168.100.195/32 is directly connected, Loopback1
~~~

  - [ ] __A.__ 255.255.255.0
  - [ ] __B.__ 255.255.255.252
  - [ ] __C.__ 255.255.255.224
  - [ ] __D.__ 255.255.255.255
  - [ ] __E.__ 255.255.255.248

<br>
<br>

---
&nbsp;

### Job Interview Questions for L1/L2 NOC-MSP postions.
Interpret the components of routing table:
a routing is database/fib: forward information base, that is used by routing devices, path to take.
to go to remote networks:


Routing - forwards data based on L3 information (IP Address)
- Linux: netstat -rn
- Windows: route print
- Cisco: show ip interface brief

What people are looking for? Experience in Many (EIGRP, OSPF, BGP, IS-IS)


Review
Jobs of a router:
1.
2.
3.
4.
5.

Static and Default Routing = Minimum Wage/ Work at an internet cafe
OSPF = 40k - 60k
BGP = 100k - 200k

Admin distance & Metric

Steps to make a forwarding decision:
Longest prefix match
Administrative Distance
Routing protocol metric

&nbsp;
---
&nbsp;

Access RST

Login: root
Pass: C1sc0123

Devices
enable secret: pass

&nbsp;
---
&nbsp;

Static routing
STATIC And DEFAULT

Next-Hop : Ingress

Recipe for static routing
Destination, Next-HOP, and return traffic

Establish connectivity between R4 & R2 using static routes only.

~~~
@R4
conf t
 ip route 10.1.1.4 255.255.255.252 10.1.1.9
 end
~~~

~~~ 
@R2
conf t
 ip route 10.1.1.8 255.255.255.252 10.1.1.6
 end
~~~

Exercise 01: R1-R4 are partially configured with static routes. 
Complete the configuration by completing the following tasks:

NOTE: Company Policy states that static routes on R1 MUST not use a next hop address.

1. Configure a network route on R4 destined for R1
2. Configure a network route on R3 destined for R1
3. Configure a network route on R2 destined for R4
4. Configure a host route on R1 destined for R4's e1/2 interface



<br>
<br>
<br>
<br>


<details>
<summary>Answer</summary>

~~~
@R4
conf t
 ip route 10.1.1.0 255.255.255.252 10.1.1.9
 end
~~~
<br>
~~~
@R3
conf t
 ip route 10.1.1.0 255.255.255.252 10.1.1.5
 end
~~~
<br>
~~~
@R2
conf t
 ip route 10.1.1.8 255.255.255.252 10.1.1.6
 end
~~~
<br>
~~~
@R1
conf t
 ip route 10.1.1.10 255.255.255.255 e1/0
 end
~~~

<br>

Verify:
~~~
@R1
ping 10.1.1.10
~~~

<br>

Network vs Host route
~~~
@R1
ping 10.1.1.9
~~~

&nbsp;
---
&nbsp;

How to wipe the routing configurations.

@R1,R2,R3,R4
conf t
 no ip routing
 ip routing
 end


&nbsp;
---
&nbsp;

RST Routing

SERVER FARMS
-
IP address assignment

!@S1
conf t
 int e1/0
  no shut
  ip add 192.168.1.133 255.255.255.224
  end
show ip int brief
  
!@S2
conf t
 int e1/0
  no shut
  ip add 10.2.2.133 255.255.255.0
  end
show ip int brief


Floating Default static routes 
Avoid a single link of failure, achieve redundancy.

!@S1
conf t
 ip route 0.0.0.0 0.0.0.0 192.168.1.129 1
 ip route 0.0.0.0 0.0.0.0 192.168.1.130 5
 end
show ip route static


!@S2
conf t
 ip route 0.0.0.0 0.0.0.0 10.2.2.2 1
 ip route 0.0.0.0 0.0.0.0 10.2.2.1 5
 end
show ip route static

&nbsp;
---
&nbsp;

PCs

!@P1
conf t
 int e0/0
  no shut
  ip add 10.2.1.101 255.255.255.0
  end

!@P2
conf t
 int e1/0
  no shut
  ip add 10.2.1.201 255.255.255.0
  end
  
  
!@A1
conf t
 int e0/0
  switchport mode access
  switchport access vlan 10
  end

!@A2
conf t
 int e1/0
  switchport mode access
  switchport access vlan 10
  end



Exercise 2: On A1, configure a floating default route on D1 as the primary default gateway, while D2 as the secondary. 
On A2, configure a floating default route on D2 as the primary default gateway, while D1 as the secondary. 

!@A1
conf t
 ip route  0.0.0.0  0.0.0.0  __.__.__.__  __
 ip route  0.0.0.0  0.0.0.0  __.__.__.__  __
 end
show ip route static

!@A2
conf t
 ip ____  0.0.0.0  0.0.0.0  __.__.__.__  __
 ip ____  0.0.0.0  0.0.0.0  __.__.__.__  __
 end
show ip route static


---

Longest Prefix Rule

!@P1
conf t
 ip route 192.168.1.128 255.255.255.224 10.2.1.1
 ip route 192.168.1.130 255.255.255.255 10.2.1.2
 end
show ip route static

!@P2
conf t
 ip route __.__.__.__  __.__.__.__  __.__.__.__
 ip route __.__.__.__  __.__.__.__  __.__.__.__
 end
show ip route static

---

Dynamic Routing Protocols

IGP - Internal Gateway Protocols
- Link-state = OSPF & ISIS
- Distance Vector = EIGRP & RIP

EGP - Exterior Gateway Protocols
- BGP = Border Gateway Protocol

---
EIGRP

!@R4
conf t
 router eigrp 100
  no auto-summary
  network 10.1.4.8 0.0.0.3
  network 10.1.4.4 0.0.0.3
  end
  
!@D1
config t
 router eigrp 100
  no auto-summary
  network 10.1.4.4 0.0.0.3
  network 10.2.1.0 0.0.0.255
  network 10.2.2.0 0.0.0.255
  network 192.168.1.128 0.0.0.31
end


Exercise 03: Configure EIGRP on D2. Advertise all connected routes.

!@D2
config t
 router ____  ____
  no auto-summary
  network __.__.__.__  __.__.__.__
  network __.__.__.__  __.__.__.__
  network __.__.__.__  __.__.__.__
  network __.__.__.__  __.__.__.__
  end


Ans

!@D2
conf t
 router eigrp 100
  no auto-summary
  network 10.1.4.8 0.0.0.3
  network 10.2.1.0 0.0.0.255
  network 10.2.2.0 0.0.0.255
  network 192.168.1.128 0.0.0.31
  end

Verify:

show ip protocols
show ip eigrp neighbors
show ip eigrp topology
show ip router eigrp


EIGRP Admin Distance:
EIGRP Metric Cost:



OPTIONAL

Named EIGRP / Multi Address-Family EIGRP
When you are using NEXUS, address family is required.

!@R4
conf t
 router eigrp CCNPLEVEL
  address-family ipv4 unicast autonomous-system 100
   network 10.1.4.8 0.0.0.3
   network 10.1.4.4 0.0.0.3
   end
   
!@D1
conf t
 router eigrp CCNPLEVEL
  address-family ipv4 unicast autonomous-system 100
   network 10.1.4.4 0.0.0.3
   network 10.2.1.0 0.0.0.255
   network 10.2.2.0 0.0.0.255
   network 192.168.1.128 0.0.0.31
   end
  
!@D2
conf t
 router eigrp CCNPLEVEL
  address-family ipv4 unicast autonomous-system 100
   network 10.1.4.8 0.0.0.3
   network 10.2.1.0 0.0.0.255
   network 10.2.2.0 0.0.0.255
   network 192.168.1.128 0.0.0.31
   end



---
OSPF (Single Area OSPF)

!@R3
conf t
 router ospf 1
  router-id 3.3.3.3
  network 3.3.3.3 0.0.0.0 area 0
  network 10.1.1.8 0.0.0.3 area 0
  network 10.1.1.4 0.0.0.3 area 0
  end

Exercise 04: Configure OSPF on R4 with the following settings:
- Process ID must be 1
- Advertise all connected routes
- All of R4's interface belongs to Area 0
- Set R4's router id for OSPF as its loopback 4 IP

!@R4
conf t
 router ___  __
  router-id __.__.__.__
  network __.__.__.__  __.__.__.__ area __
  network __.__.__.__  __.__.__.__ area __
  end


Ans

!@R4
conf t
 router ospf 1
  router-id 4.4.4.4
  network 4.4.4.4 0.0.0.0 area 0
  network 10.1.1.8 0.0.0.3 area 0
  end


OSPF Interface-specific configuration.

!@R2
conf t
 router ospf 1
  router-id 2.2.2.2
  exit
 int lo2
  ip ospf 1 area 0
  exit
 int e1/1
  ip ospf 1 area 0
  exit
 int e1/2
  ip ospf 1 area 0
  end

!@R1
conf t
 router ospf 1
  router-id 1.1.1.1
  exit
 int lo1
  ip ospf 1 area 0
  exit
 int e1/0
  ip ospf 1 area 0
  end

---

OSPF Network Types and Priorities.

Exercise 05: Ensure R3 is the DR of the OSPF Area by completing the following tasks:
- Eliminate the need for a DR/BDR election between R4 & R3
- Configure R1 to be ineligible to become a DR/BDR
- Configure R2 with the highest priority on its e1/2 interface.

!@R4
conf t
 int e1/2
  ip ospf network point-to-point
  end


!@R3
conf t
 int e1/2
  ip ospf network point-to-point
  end
  

!@R2
conf t
 int e1/2
  ip ospf priority 255
  end
  

!@R1
conf t
 int e1/0
  ip ospf priority 0
  end


clear ip ospf process
---

OSPF Hello Packet

- Router ID
- Area ID
- Subnet Mask
- Authentication Type

- Hello Timer
- Dead Timer
- Designated Router
- Backup Designated Router

Neighborship vs Adjacency

!@R2
show ip ospf int e1/1


Practice Doing the wrong things

Mismatched Network Type

!@R2
conf t
 int e1/1
  ip ospf network point-to-point
  end
show ip ospf neighbor
clear ip ospf process


!@R1
show ip route ospf

---

Mismatched Adjacency

Remove the Adjacency of R2 & R3
!@R2
conf t
 int e1/1
  ip ospf hello-interval 20
  end
show ip ospf neighbor
clear ip ospf process


!@R2
conf t
 int e1/1
  ip ospf hello-interval 10
  end
show ip ospf neighbor

---

What makes OSPF Link-State? 
It builds a topology of the network.

LSU - Link-State Updates
LSA - Link-State Advertisement

Type 1 LSA - (O) Router LSA
Type 2 LSA - (O IA) Network LSA
Type 3 LSA - Summary LSA

---

Optimize OSPF Network
Set loop back IPs Passive interface

!@R1
conf t
 router ospf 1
  passive-interface lo1
  end

Exercies 06: Configure R2,R3, & R4's loopbacck IP for passive interfaces.

!@R2
conf t
 router ospf 1
  passive-interface lo2
  end

!@R3
conf t
 router ospf 1
  passive-interface lo3
  end
 
!@R4
conf t
 router ospf 1
  passive-interface lo4
  end


---

OSPF & EIGRP Redistribution

!@R4
config T
 router eigrp 100
  redistribute ospf 1 metric 10000 100 255 1 1500
  exit
 router ospf 1
  redistribute eigrp 100 subnets
end


---

Hurrican AS Number
- Globe
- PLDT
- Converge

BGP AS Numbers
R1 = ASN 1
I1 & I4(GOOGLE DNS) = ASN 45
I2 = ASN 2
I3 = ASN 1

!@R1
conf t
 router bgp 1
  bgp log-neighbor-changes
   neighbor 208.8.8.4 remote-as 45
   neighbor 207.7.7.2 remote-as 2
   neighbor 209.9.9.3 remote-as 3
   address-family ipv4
	neighbor 208.8.8.4 activate
    neighbor 207.7.7.2 activate
    neighbor 209.9.9.3 activate
    network 207.7.7.0 mask 255.255.255.0
    network 208.8.8.0 mask 255.255.255.0
    network 209.9.9.0 mask 255.255.255.0
    end

!@I1 - CONVERGE
conf t
 router bgp 45
  bgp log-neighbor-changes
  neighbor 24.2.4.2 remote-as 2
  neighbor 45.4.5.5 remote-as 45
  neighbor 208.8.8.1 remote-as 1
  address-family ipv4
   neighbor 24.2.4.2 activate
   neighbor 45.4.5.5 activate
   neighbor 208.8.8.1 activate
   network 208.8.8.0 mask 255.255.255.0
   network 24.2.4.0 mask 255.255.255.0
   network 44.44.44.44 mask 255.255.255.255
   network 45.4.5.0 mask 255.255.255.0
   end

!@I3 - GLOBE
conf t
 router bgp 3
  bgp log-neighbor-changes
  neighbor 32.3.2.2 remote-as 2
  neighbor 35.3.5.5 remote-as 45
  neighbor 209.9.9.1 remote-as 1
  address-family ipv4
   network 209.9.9.0 mask 255.255.255.0
   network 32.3.2.0 mask 255.255.255.0
   network 33.33.33.33 mask 255.255.255.255
   network 35.3.5.0 mask 255.255.255.0
   end

!@I4 - GOOGLE
config t
 router bgp 45
  bgp log-neighbor-changes
  neighbor 25.2.5.2 remote-as 2
  neighbor 35.3.5.3 remote-as 3
  neighbor 45.4.5.4 remote-as 45
  address-family ipv4
   network 8.8.8.8 mask 255.255.255.255
   network 55.55.55.55 mask 255.255.255.255
   network 25.2.5.0 mask 255.255.255.0
   network 35.3.5.0 mask 255.255.255.0
   network 45.4.5.0 mask 255.255.255.0
end


Exercise 06: Configure BGP on I2(PLDT). Set the ASN number to 2.

!@I2 - PLDT
config t
 router bgp __
 bgp log-neighbor-changes
 neighbor __.__.__.__ remote-as __
 neighbor __.__.__.__  remote-as __
 neighbor __.__.__.__  remote-as __
 neighbor __.__.__.__  remote-as __
 address-family __
  network __.__.__.__ mask __.__.__.__
  network __.__.__.__ mask __.__.__.__
  network __.__.__.__ mask __.__.__.__
  network __.__.__.__ mask __.__.__.__
  network __.__.__.__ mask __.__.__.__
  end

Ans

!@I2 - PLDT
config t
 router bgp 2
 bgp log-neighbor-changes
 neighbor 24.2.4.4 remote-as 45
 neighbor 25.2.5.5 remote-as 45
 neighbor 32.3.2.3 remote-as 3
 neighbor 207.7.7.1 remote-as 1
 address-family ipv4
  network 207.0.0.0 mask 255.255.255.0
  network 22.22.22.22 mask 255.255.255.255
  network 24.2.4.0 mask 255.255.255.0
  network 25.2.5.0 mask 255.255.255.0
  network 32.3.2.0 mask 255.255.255.0
  end
  
---

BGP - OSPF Redistribution

!@R1
conf t
 router ospf 1
  default-information originate always
  
---

NAT

!@R1
conf t
 access-list 1 permit 10.0.0.0 0.255.255.255
 access-list 1 permit 172.16.0.0 0.15.255.255
 access-list 1 permit 192.168.0.0 0.0.255.255
 int range e1/1-3
  ip nat outside
  exit
 int e1/0
  ip nat inside
  exit
 !
 ip nat inside source list 1 interface ethernet 1/1 overload
